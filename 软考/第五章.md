#  网络互联

![74878054343](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1748780543430.png)

 ####  公路交换电话网PSTN

![74878077909](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1748780779091.png)

####  针对数据传输的X.25

![74878084862](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1748780848625.png)

分组层就是网络层，数据链路层提供可靠的数据传输功能不一定是tcp，不一定是传输层

####  帧中继FR

![74878106710](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1748781067100.png)

分组-----数据报（ip）

|---------虚电路（帧中继，x.25）

以太网的效率低于帧中继FR

CIR和EIR使其灵活很多

只有检错和拥塞控制

####  ISDN和ATN

![74878208019](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1748782080198.png)

速率要记一下

![74878256178](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1748782561785.png)





####  IPv4报文格式

![74878435310](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1748784353108.png)

头部长的单位规定的是4字节，刚好跨域表示基本ip头部长（取值是5，15）  =》最小值为5，就是5*32bit=160bit=20字节

 总长度字段：ipv4数据报的总长度是0到2^16-1=65535B

数据部分最长是65515B

 





####  IP分片定义

IP报文最大65535字节，以太网MTU最大为1500字节

相当于货轮能载重65535，而火车载重1500，哪么必须把货轮分装给多个火车运输

![74884262374](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1748842623744.png)

要求去掉报头

MF的意思是后续还有没有分片

偏移量是用前面的数据长度计算的，指示分片在每一分段在原报文的位置



![74884300006](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1748843000069.png)

![74884318845](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1748843188456.png)

ivp6有链路MTU发现机制 ，可以选择最小的分片进行发送，效率比较高 如题

![74884484505](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1748844845055.png)

b，是在目的端进行重组，在源端进行分片





####  特殊ipv4地址

![74884502805](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1748845028051.png)

总分类

- 特殊的地址

![74884506780](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1748845067809.png)

 DHCP失败，就是那个服务器故障，或者访问到哪里的网络错误

![74884527857](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1748845278571.png)



私有地址不能访问公网

范围要记 ![74884569773](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1748845697732.png)

 



#### ivp6

![74884646683](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1748846466837.png)

ivp4地址不够用，ipv6才够用

![74884778860](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1748847788606.png)

流标签是ipv4没有的东西

负载长度是除了固定头部之外的东西、扩展头的东西是算到负载里面的

ipv4的头部不一定少于ipv6，得看比的是什么

![74892119134](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1748921191340.png)

 ![74892148427](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1748921484274.png)

两种自动配置：有状态和无状态的自动配置

例题

![74892183209](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1748921832093.png)

![74892188020](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1748921880206.png)

![74892190851](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1748921908515.png)

没有扩展头就直接封装

![74892196001](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1748921960010.png)

逐跳选项首部是每个中间路由都需要处理的

‘





####  ipv6地址分类

  ![74892516693](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1748925166935.png)



![74892526287](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1748925262872.png)

![74892545964](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1748925459643.png)

一聚二链三站

把最后两个数字换成十进制，来记忆

组播和多播是一样的，组播地址的开头是二进制的11111111，十六进制的FF

![74892557488](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1748925574888.png)

他们之间的差别比较





####  ivp4到ivp6过渡技术

1. 双栈技术：同时运行ipv4和ipv6
2. 隧道技术：解决ipv6节点之间通过ipv4网络进行通信
3. 翻译技术：解决纯ipv6于纯ipv4节点之间进行通信





####  ARP，RAP

 ![74905321369](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1749053213693.png)

通过ip求对方的mac地址，就是须要arp

主机a发送数据包给主机c之前，首先通过arp协议根据ip地址获取主机mac地址

arp直接封装在以太网帧上使用

![74905328619](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1749053286196.png)

通过arp -a拿到arp缓存

arp表

![74905339375](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1749053393755.png)

动态是arp自动学习的，静态是自己配的

![74908998758](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1749089987588.png)

两个目的MAC地址，第一个目的MAC地址是以太网的报头，第二个是我们要求的MAC地址

收到主机a的报文，会把ip和MAC地址（通过arp协议）写到自己的ARP表里面

![74909011811](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1749090118115.png)



再回复一个单播报文

主机a根据这个报文记录一个动态类型的ip和MAC地址的对应

#####  arp解析

![74909023755](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1749090237559.png)

免费arp用来检测ip地址是否冲突

![74909030117](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1749090301177.png)

一般应用在开始配置路由器和dhcp，当你获得地址后，他会去检测你这个地址是否冲突

![74909043142](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1749090431421.png)



   代理ARP

不同网段的ip，要把数据先交给网关才能通信

pc1把pc2的mac地址定位在网关身上，而不是pc2身上，避免了不同网段通信的问题

![74909061681](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1749090616817.png)

RARP是反向的ARP，通过mac地址去找IP地址

例题：

1. arp请求是广播，arp响应是单播

2. ![74909092146](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1749090921463.png)

   因为一开始不知道HostB的mac地址，所以要用全00000

3. arp病毒是通过伪造arp请求或者应答来欺骗网络中的设备

   arp Flood就是伪造很多arp，挤爆arp表

4. ![74909110244](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1749091102446.png)







####  ICMP和ICMPv6

封装在IP报文里面

![74909115491](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1749091154913.png)

ping请求报文，和回应报文要掌握

![74909122840](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1749091228405.png)

主要是探测服务器是否在线等，测试到服务器的时延，发出的是80，收到的是00

`心跳机制，windows的ping命令`

![74909144031](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1749091440315.png)

交换机是二层交换机，对于路由器是透明的

测试中间经过了多少个设备

原理：ttl递增，ttl为零就报错，来探测多少个设备

![74909179343](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1749091793437.png)

常见的服务器发出的ping报文的ttl一般是255，128，64等数值

并且一般经过的设备不超过30条

例题

![74909216928](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1749092169280.png)



####  ICMPv6

![74919922277](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1749199222777.png)

- 差错报文

  ![74919931416](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1749199314167.png)

- 信息报文

  ![74919937499](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1749199374993.png)

**NDP协议**

![74919940867](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1749199408670.png)

![74920015062](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1749200150629.png)

一般使用NS和NA检测

![74920023430](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1749200234306.png)



![74920026558](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1749200265586.png)

R1是服务器，PC1是主机

DAD检测是地址冲突检测

RS尝试发现是否又路由器

 ![74920044129](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1749200441299.png)



####  组播技术

![74920052906](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1749200529064.png)

组播ip是十进制的，mac地址是十六进制的

IGMP和ICMP不一样，ICMP是差错控制的协议

![74920096727](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1749200967272.png)

组播的发送图

组播不会形成一个环，无环的组播分发树

最开始只需要发一个分组就可以了

![74920109809](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1749201098097.png)

标签分发协议LDP是MPLS体系中的一种主要协议，在MPLS网络中，两个标签交换路由器（LSR）使用LAP交换标签，完成快速转发





####  TCP和UDP协议

![74922395062](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1749223950621.png)

![74922438101](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1749224381016.png)

大于1024端口很少会选用

每发送一次，序列号会加一

![74937990252](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1749379902525.png)

序号最大值是4GB



![74938002611](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1749380026111.png)

UDP的长度是[0,65535B]

UDP报头是8字节(IP头部20-60字节,默认20字节),TCP头部20-60字节(默认20字节)

数据的长度是[0,65527B]

 





####  TCP三次握手建立联系

![74945530816](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1749455308168.png)

三次握手的最后一次，就可以携带相应的数据了

标志位ack的意思：响应：确认收到，请求seq=1的报文

![74945563899](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1749455638994.png)

SYN报文开始

然后SYN加ACK的报文

![74945573006](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1749455730060.png)

![74945595000](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1749455950002.png)

443端口一般用于https

 端口扫描攻击

![74945618457](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1749456184579.png)

![74945630390](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1749456303901.png)

控制报文还没开始传数据的时候

![74945637896](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1749456378965.png)

第二个的ack来源是上一个的seq加上数据载荷100字节形成的

第三个的ack是第二个的seq加上数据载荷，seq是第一个的seq加数据载荷

![74945680885](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1749456808857.png)

初始的序列号是2000，

最后一次握手的序列号是2001，

终止链接的是8001

数据发送是从2001到8000，包含端点值

![74945698346](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1749456983466.png)

第一个seq是79，说明79已经收到了，请发80，看第三个的seq，收到了80











####  流量控制

为了防止发送方发送过快，导致接收方处理不过来，造成丢包重传，浪费网络资源

机制：可变大小的滑动窗口

 ![74971807946](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1749718079468.png)

 使用可变大小的滑动窗口协议



![74971822025](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1749718220256.png)

机制

- 满开始和拥塞避免

  ![74971838166](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1749718381668.png)

  门限值会变成拥塞值的一半

- 快重传、快恢复

  ![74971909827](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1749719098273.png)

  ![74971940999](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1749719409992.png)

  ![74971980321](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1749719803211.png)

  滑动窗口是对面的

  拥塞窗口是你自己的

- ​





####  路由表

![74971994107](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1749719941072.png)

源端口是未使用且大于1024的端口

![74990147445](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1749901474450.png)

每台设备的路由表查询都是独立的，互不干扰的

####  路由器工作原理

- 建立并且维护路由表

  - 直连路由：路由器本地接口所在网段
  - 静态路由：手工配置的路由条目
  - 动态路由：路由器之间通过动态路由协议学习到的路由

- 根据路由表进行数据转发

  没有源网络，有时候可能没有跳数

![74990350535](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1749903505353.png)

 ![74990385077](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1749903850777.png)

proto的路由优先级对应pre

Flags是D说明可以硬件转发

静态路由优先级是60，直连是0

![74990398576](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1749903985760.png)

迭代路由就是不能直达，要换乘

- 最长匹配原则

  ![74990402097](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1749904020974.png)

  ![74990405640](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1749904056403.png)

  匹配最大的位，就是一样的位最多的







####  静态和默认路由

背景

![74990499856](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1749904998567.png)

![74990502171](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1749905021713.png)

![74990532477](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1749905324770.png)

出接口不适应以太网接口，会导致网络不同

 ![74990552313](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1749905523133.png)

要保证回程也有路由，不然ping回不去



- 默认路由

![74990564664](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1749905646641.png)

![74990567315](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1749905673156.png)

假设r2哪里有海量的网络，比如运营商，使用默认路由指向这个出口，简化一些操作

![74990611192](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1749906111928.png)

默认路由的优先级是六十

![74990628190](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1749906281903.png)

一个是负载分担，一个是备份（主路径可用，所有备用不可用）

![74990642416](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1749906424166.png)

例题

1. 等价路由
2. 基于流的

![74990648064](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1749906480643.png)







####  路由协议的分类

- 路由协议分类方式：按距离矢量和链路状态分类，按照内部网关和外部网关协议
- 距离矢量路由协议一般基于Bellman-Ford算法，链路状态路由协议基于Dijkstra算法（也叫SPF最短路径优先算法）

![74996200526](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1749962005269.png)





####  路由协议rip

 路由信息协议

内部网关协议IGP，距离矢量路由协议

 华为设备上路由优先级为100

计算跳数：最大15跳，16跳不可达，一般用于小型网络

几个时钟：30s周期性更新路由表，180s无更新表示不存在，300s删除路由表  

支持等价负载均衡和链路冗余，使用UDP 520端口   ![75004330341](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1750043303413.png)





RIPv2和RIPv1对比

![75004346209](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1750043462092.png)

携带子网掩码做路由更新

  



![75004372580](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1750043725807.png)

路由器不知道具体的网络和结构

![75004375095](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1750043750951.png)

![75004376751](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1750043767515.png)

有时候会放弃走1G的去走1.5M的会慢很多

![75004384595](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1750043845957.png)

![75004396654](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1750043966544.png)

防环

 ![75004410515](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1750044105155.png)

最大跳数一个是15一个是16

都以跳数为计算度量





####  路由协议OSPF

最重要的路由协议

![75004425007](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1750044250075.png)

链路状态路由协议：OSPF，ISIS

- 手工
- ABR/ASBR 





![75004458490](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1750044584900.png)

- 触发性更新，把网络划分，减少链路状态数据库的大小

​        降低带宽

- 使用hello报文发现，点对点是10秒，在NBMA网络30秒发送一次

  ![75004485722](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1750044857229.png)

  低速网络没有那么频繁去发送hallo

- 交换的网络拓扑信息，而不是交换路由的距离和矢量

  来构建数据库，来作为基本的计算路由，交互链路状态信息，而不是直接交互路由

- 五个特殊报文

  1. DD是描述本地LSDB的摘要信息，用来描述数据库

     类似目录

  2. LSR链路状态请求，请求数据库的内容，根据目录

  3. LSU像对方发送所需要的LSA

  4. LSAck是确认用的

- 加上一些特殊地址

![75004813311](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1750048133116.png)

![75004848048](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1750048480488.png)

![75004848940](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1750048489406.png)



0优先级不参与选举

非抢占式就是新来的，不会影响已经存在了的结果

只有DR挂了以后，BDR才会成为DR，然后重新选举BDR

只要有一台不为零就好了

![75004902602](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1750049026024.png)

![75004908172](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1750049081726.png)

 1，2是区域内。3是区域间。4，5是引入，7是特殊区域

![75004941431](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1750049414313.png)



 ![75004953157](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1750049531579.png)

不足1的也取1

![75004964151](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1750049641518.png)

骨干网络处理



![75004973342](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1750049733421.png)

有三个骨干路由器，一个路由器的角色是多种多样的

![75004998557](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1750049985577.png)

自治系统边界路由器是sabr和外界相连

![75005016261](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1750050162612.png)

可能有多个区域，会产生差异





####  路由协议ISIS

 ![75017281625](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1750172816253.png)

BGP路由的生成方式，就是上面的手动自动聚合和network和import聚合

路由聚合了，只要还有一条路由，其他损坏，另外一个路由器就会工作

路由衰减，一直一开一关的路由，优先级会降低

 ![75017604211](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1750176042112.png)

 规则![75017616706](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1750176167060.png)

1. 前五条要记住
2. 不可达到就丢弃
3. 优选pv和lp最高的路由
4. 四个自己搞出来的路由优先，最后一个不是自己设置的比较后
5. AS-path选择最短的路由
6. BGP防止环路的措施，从IBGP学习的路由不会发给其他IBGP邻居，只会给其他过渡，也就是EBGP
7. 上面10，11也是防止环路的





ISIS

ospf一般是企业用到，这个多是运营商用的

![75017723892](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1750177238921.png)

rip封装在udp520上，opsf在ip89上，BGP在tcp179上，isis在链路层上

 ![75017748477](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1750177484774.png)

isis路由器只能在一个区域里面，没有跨域的那种

红圈里面的是骨干区域

![75017753918](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1750177539183.png)

![75017805802](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1750178058023.png)

![75017811979](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1750178119792.png)

![75017827321](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1750178273214.png)

![75017839205](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1750178392051.png)

BGP传递路由

![75017841389](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1750178413892.png)

BGP防环措施

![75017845863](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1750178458630.png)







####  internet应用

Telnet：远程登录管理设备，TCP23端口，明文传输，不安全

SSH：远程登录管理设备，端口22，加密传输

默认使用SSH，在windows

 

![75021637404](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1750216374044.png)

![75021654167](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1750216541679.png)

MIME不安全，保证安全要看S/MIME

![75021672167](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1750216721672.png)

1是SMTP客户端，给2SMTP服务端传输邮件，然后3作为SMTP服务端进行传输，给另外一个邮箱系统的服务器，5作为POP3服务端把邮件给POP3客户端

![75021731726](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1750217317262.png)



![75021728988](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1750217289884.png)



C/S或者B/S就是客户端和服务端的交互

![75021733397](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1750217333979.png)

P2P是一种对等的网络协议类型

去中心的一种算法

P2P是比其他模式快的，而且p2p也是区块链技术的基础







 

####  互联设备的总结

![75021916085](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1750219160858.png)

企业级交换机普遍都是24口，48 的

 

- 集线器

   ![75022010059](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1750220100597.png)

  ![75022015759](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1750220157592.png)

  2口进去，从其他接口出来，进行泛洪，类似广播

  ![75022022396](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1750220223961.png)

  比如早期互联网，在一个地方进行抓包，可以抓到所有局域网的数据,容易泄密

- 中继器

  ![75022011553](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1750220115537.png)

- 交换机

  ![75022105947](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1750221059470.png)

  交换机的工作原理(二层交换机)

  1. 寻址:初始情况下MAC表是空的

     ![75022123140](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1750221231402.png)

     ![75022124609](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1750221246093.png)

      ![75022138225](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1750221382257.png)

     ![75022141976](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1750221419765.png)

     ![75022148758](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1750221487585.png)

     ![75022150187](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1750221501872.png)

     ![75022150917](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1750221509174.png)

     ![75022153073](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1750221530734.png)

     AMC表的空间是有限制的,被攻击占满会影响交换机,MAC地址泛洪攻击

- 路由器和三层交换机

  泛洪靠MAC地址解决--交换机,机器太多,使用VLAN划分区域,解决广播风暴

  ![75022239558](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1750222395587.png)

  ![75022247869](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1750222478695.png)

  集成了路由

  ![75022263021](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1750222630212.png)

  路由器和三层交换机的区别

  ![75022275629](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1750222756298.png)

  ![75022280456](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1750222804568.png)

  路由器的技术

  对比

  ![75022296020](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1750222960200.png)


- 多层交换机和网关设备

  ![75022317283](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1750223172836.png)

   ![75022347662](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1750223476623.png)

  ![75022355199](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1750223551999.png)

   ![75022369451](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1750223694516.png)

  交换机发展

  ​






####  IP地址基础

![75033103491](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1750331034918.png)

展开进行求和

![75033124188](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1750331241883.png)

2进制转16进制，遵循8421的规则

 

1. IP地址的分类

   ![75033175018](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1750331750188.png)

2. 网络掩码

   ![75033186946](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1750331869467.png)

   网络掩码里面，1表示网络位，0表示主机位

3. 三类地址

   ![75033205414](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1750332054145.png)


​    



####  子网划分VLSM

![75033215852](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1750332158524.png)

怎么划分

![75033226781](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1750332267817.png)

![1175033231064](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1750332310647.png)

网络位借一位，用于子网位

- 主机位加上掩码=32位

- n表示主机位，m是借用的位数

  -2哪里，网关不用减掉，内部用网不用网关，网关是跨网的，这里减掉的是网络号和广播号

- ![75033328167](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1750333281675.png)

- 广播地址的求法

  ![75033363531](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1750333635314.png)

  ![75033396031](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1750333960319.png)

  主机位最少是五位，那子网占用的位数是3

- 掩码转化

  /20表示有多少个1

  ![75033455773](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1750334557733.png)

  看这些位的次数






####  例子

   ![75033570565](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1750335705653.png)

![75033633437](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1750336334374.png)





####  掩码作用位置与地址块计算

![75033646514](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1750336465141.png)

8的倍数进行计算

![75041550166](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1750415501664.png)



![75041562337](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1750415623377.png)

  ![75041630793](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1750416307939.png)

110<2^7,所以主机位最少为7，所以为/25，最多有2 ^7=128,为一个区间（子网个数），

![75041669797](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1750416697972.png)

这种1分2，2分4的方法进行拆分

![75041671975](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1750416719752.png)

 

例

![75041701438](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1750417014388.png)

   答案：28     17~30  33~62  26

 ![75041831903](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1750418319030.png)

![75041834454](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1750418344545.png)

![75041853935](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1750418539354.png)

 ![75041867698](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1750418676988.png)







####  CIDR无类域间路由

在ABR和ASBR上面进行汇总

![75041892361](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1750418923613.png)

![75041943281](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1750419432814.png)

![75041949284](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1750419492849.png)

汇总

![75041967505](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1750419675058.png)

![75041968428](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1750419684285.png)

 看相同的个数

![75041975798](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1750419757980.png)



  



####  IPV6子网划分

![75042129651](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1750421296514.png)

规划子网位

![75042155109](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1750421551093.png)



例题



![75042170617](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1750421706176.png)

![75042215728](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1750422157289.png)



 ![75042312757](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1750423127574.png)

方案1是不行的，没有考虑后期

![75042314503](C:\Users\zxh\Desktop\前端\软考\第五章.assets\1750423145031.png)

分成大的，利于维护的

要考虑稀疏的分配



























 

























